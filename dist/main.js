(()=>{function e(){n(l.child),l=null}function n(e){e&&(e.parent.dom.appendChild(e.dom),n(e.child),n(e.sibling))}let t=null,l=null;function o(e){e.dom||(e.dom=function(e){const n="TEXT_ELEMENT"===e.type?document.createTextNode(""):document.createElement(e.type);return Object.keys(e.props).filter((e=>"children"!==e)).forEach((t=>{n[t]=e.props[t]})),n}(e)),e.parent&&e.parent.dom.appendChild(e.dom);const n=e.props.children;let t=0,l=null;for(;t<n.length;){const o=n[t],r={type:o.type,props:o.props,parent:e,dom:null};0===t?e.child=r:l.sibling=r,l=r,t++}if(e.child)return e.child;let o=e;for(;o;){if(o.sibling)return o.sibling;o=o.parent}}requestIdleCallback((function n(r){let i=!1;for(;t&&!i;)t=o(t),i=r.timeRemaining()<1;!t&&l&&e(),requestIdleCallback(n)}));const r=function(e,n,...t){return{type:e,props:{...n,children:t.map((e=>"object"==typeof e?e:{type:"TEXT_ELEMENT",props:{nodeValue:e,children:[]}}))}}},i=function(e,n){l={dom:n,props:{children:[e]}},t=l};i(r("div",{id:"foo"},r("a",null,"bar"),r("b",null)),document.getElementById("root"))})();